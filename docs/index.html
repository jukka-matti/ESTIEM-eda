<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESTIEM EDA Toolkit - Free Exploratory Data Analysis</title>
    <meta name="description" content="Exploratory data analysis tools for statistical process control. I-Charts, Process Capability, ANOVA, Pareto Analysis. No installation required.">
    
    <!-- Security Headers for SharedArrayBuffer -->
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin">
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' 'unsafe-eval' 'unsafe-inline' https://cdn.jsdelivr.net https://cdn.plot.ly https://cdnjs.cloudflare.com;
                   style-src 'self' 'unsafe-inline';
                   img-src 'self' data: https:;
                   font-src 'self' https:;
                   connect-src 'self' https: blob:;
                   worker-src 'self' blob:;
                   child-src 'self' blob:">
    
    <!-- SEO & Social -->
    <meta property="og:title" content="Free Exploratory Data Analysis Tools by ESTIEM">
    <meta property="og:description" content="EDA tools for Six Sigma and statistical process control. Used by 60,000+ students.">
    <meta property="og:image" content="https://estiem.github.io/eda-toolkit/preview.png">
    <meta property="og:url" content="https://estiem.github.io/eda-toolkit/">
    
    <!-- Libraries -->
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="logo">
                <div class="logo-icon">üìä</div>
                <div>
                    <h1>ESTIEM EDA Toolkit</h1>
                    <small>Statistical Process Control</small>
                </div>
            </div>
            <nav>
                <a href="#tools">Tools</a>
                <a href="#learn">Learn</a>
                <a href="#about">About</a>
                <a href="https://github.com/jukka-matti/ESTIEM-eda" target="_blank">GitHub</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Exploratory Data Analysis - Forever Free</h2>
            <p class="hero-subtitle">No installation ‚Ä¢ No sign-up ‚Ä¢ Professional results</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-icon">üìä</span>
                    <span>5 Statistical Tools</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üéì</span>
                    <span>60,000+ Students</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">üåç</span>
                    <span>35+ Countries</span>
                </div>
            </div>
            <div class="cta-buttons">
                <button class="btn-primary" onclick="scrollToUpload()">Start Analysis</button>
                <button class="btn-secondary" onclick="loadDemo()">Try Demo</button>
            </div>
        </div>
    </section>

    <!-- Main App -->
    <main class="container">
        <!-- File Upload Section -->
        <section class="upload-section" id="uploadSection">
            <h3>Upload Your Data</h3>
            <div class="upload-area" id="uploadArea" role="button" tabindex="0" 
                 aria-label="Click or drag to upload CSV file" 
                 aria-describedby="upload-description">
                <div class="upload-icon" aria-hidden="true">üìÅ</div>
                <h4>Drop CSV file here or click to browse</h4>
                <p id="upload-description">Your data never leaves your browser - 100% private</p>
                <input type="file" id="fileInput" accept=".csv" aria-label="Choose CSV file to upload" hidden>
            </div>
            
            <!-- Sample Data Options -->
            <div class="sample-data">
                <p>No data? Try with sample datasets:</p>
                <div class="sample-buttons">
                    <button class="btn-sample" onclick="loadSampleData('manufacturing')">
                        üè≠ Manufacturing Data
                    </button>
                    <button class="btn-sample" onclick="loadSampleData('quality')">
                        ‚úÖ Quality Control Data
                    </button>
                    <button class="btn-sample" onclick="loadSampleData('process')">
                        ‚öôÔ∏è Process Monitoring
                    </button>
                </div>
            </div>
        </section>

        <!-- Data Preview -->
        <section class="data-preview" id="dataPreview" style="display:none;">
            <h3>Data Preview</h3>
            <div class="preview-container">
                <div id="dataTable"></div>
                <div class="data-info">
                    <span id="dataSize">0 rows √ó 0 columns</span>
                    <button class="btn-small" onclick="showFullData()">View Full Data</button>
                </div>
            </div>
        </section>

        <!-- Analysis Tools Section -->
        <section class="tools-section" id="toolsSection" style="display:none;">
            <h3>Select Analysis Type</h3>
            <div class="tools-grid">
                <div class="tool-card" onclick="runAnalysis('i_chart')">
                    <div class="tool-icon">üìà</div>
                    <h4>I-Chart</h4>
                    <p>Individual control chart for process monitoring</p>
                    <div class="tool-badge">SPC</div>
                </div>
                
                <div class="tool-card" onclick="runAnalysis('capability')">
                    <div class="tool-icon">üéØ</div>
                    <h4>Process Capability</h4>
                    <p>Calculate Cp, Cpk, and Six Sigma level</p>
                    <div class="tool-badge">Quality</div>
                </div>
                
                <div class="tool-card" onclick="runAnalysis('anova')">
                    <div class="tool-icon">üìä</div>
                    <h4>ANOVA</h4>
                    <p>Compare groups with statistical significance</p>
                    <div class="tool-badge">Analysis</div>
                </div>
                
                <div class="tool-card" onclick="runAnalysis('pareto')">
                    <div class="tool-icon">üìâ</div>
                    <h4>Pareto Analysis</h4>
                    <p>Identify vital few (80/20 rule)</p>
                    <div class="tool-badge">Root Cause</div>
                </div>

                <div class="tool-card" onclick="runAnalysis('probability_plot')">
                    <div class="tool-icon">üìã</div>
                    <h4>Probability Plot</h4>
                    <p>Assess normality with confidence intervals</p>
                    <div class="tool-badge">Distribution</div>
                </div>
            </div>
        </section>

        <!-- Parameter Input Modal -->
        <div class="modal" id="parameterModal" style="display:none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalTitle">Analysis Parameters</h3>
                    <button class="modal-close" onclick="closeModal()">&times;</button>
                </div>
                <div class="modal-body" id="modalBody">
                    <!-- Dynamic parameter inputs -->
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" onclick="closeModal()">Cancel</button>
                    <button class="btn-primary" id="runAnalysisBtn">Run Analysis</button>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <section class="results-section" id="resultsSection" style="display:none;">
            <div class="results-header">
                <h3 id="analysisTitle">Analysis Results</h3>
                <div class="results-actions">
                    <button class="btn-small" onclick="downloadChart()">
                        üì• Download Chart
                    </button>
                    <button class="btn-small" onclick="downloadReport()">
                        üìÑ Download Report
                    </button>
                    <button class="btn-small" onclick="shareResults()">
                        üîó Share Results
                    </button>
                </div>
            </div>
            
            <div class="results-content">
                <div class="chart-container">
                    <div id="chartContainer"></div>
                </div>
                
                <div class="results-panels">
                    <div class="stats-panel">
                        <h4>üìä Statistical Summary</h4>
                        <div id="statsContainer"></div>
                    </div>
                    
                    <div class="interpretation-panel">
                        <h4>üéØ Interpretation</h4>
                        <div id="interpretationContainer"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Loading Indicator -->
        <div class="loading-overlay" id="loadingOverlay" style="display:none;">
            <div class="loading-content">
                <div class="spinner"></div>
                <h3 id="loadingTitle">Loading...</h3>
                <p id="loadingMessage">Initializing Python environment</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- Learn Section -->
    <section class="learn-section" id="learn">
        <div class="container">
            <h2>Learn Statistical Process Control</h2>
            <p class="section-subtitle">Master Six Sigma and quality control with ESTIEM</p>
            
            <div class="learn-grid">
                <a href="https://estiem.org/leansixsigma" class="learn-card" target="_blank">
                    <div class="learn-icon">üéì</div>
                    <h4>Lean Six Sigma Course</h4>
                    <p>Get certified with ESTIEM's official program</p>
                    <span class="learn-badge">Free for Members</span>
                </a>
                
                <a href="#tutorial-control-charts" class="learn-card">
                    <div class="learn-icon">üìà</div>
                    <h4>Control Charts Tutorial</h4>
                    <p>When and how to use statistical control</p>
                    <span class="learn-badge">Interactive</span>
                </a>
                
                <a href="#tutorial-capability" class="learn-card">
                    <div class="learn-icon">üéØ</div>
                    <h4>Process Capability Guide</h4>
                    <p>Understanding Cp, Cpk, and Six Sigma levels</p>
                    <span class="learn-badge">With Examples</span>
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-section" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About ESTIEM EDA Toolkit</h2>
                    <p>Built specifically for Industrial Engineering students by <strong>ESTIEM</strong>, the European Students of Technology in Engineering and Management network.</p>
                    
                    <div class="features-list">
                        <div class="feature-item">
                            ‚úÖ <strong>100% Free:</strong> No registration, no limits, no hidden costs
                        </div>
                        <div class="feature-item">
                            üîí <strong>Privacy First:</strong> All data processing happens in your browser
                        </div>
                        <div class="feature-item">
                            üì± <strong>Mobile Ready:</strong> Works on phones, tablets, and desktops
                        </div>
                        <div class="feature-item">
                            üéì <strong>Educational Focus:</strong> Designed for learning Six Sigma
                        </div>
                        <div class="feature-item">
                            üåç <strong>Open Source:</strong> Apache 2.0 license, contribute on GitHub
                        </div>
                    </div>
                </div>
                
                <div class="about-stats">
                    <div class="stat-box">
                        <div class="stat-number">60,000+</div>
                        <div class="stat-label">Students in Network</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">35+</div>
                        <div class="stat-label">Countries</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">200+</div>
                        <div class="stat-label">Universities</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>ESTIEM EDA Toolkit</h4>
                    <p>Exploratory data analysis tools for Industrial Engineering applications.</p>
                    <div class="footer-badges">
                        <span class="badge">Apache 2.0</span>
                        <span class="badge">Open Source</span>
                        <span class="badge">Free Forever</span>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Tools</h4>
                    <ul>
                        <li><a href="#" onclick="scrollToTools()">I-Chart</a></li>
                        <li><a href="#" onclick="scrollToTools()">Process Capability</a></li>
                        <li><a href="#" onclick="scrollToTools()">ANOVA</a></li>
                        <li><a href="#" onclick="scrollToTools()">Pareto Analysis</a></li>
                        <li><a href="#" onclick="scrollToTools()">Probability Plot</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://github.com/jukka-matti/ESTIEM-eda" target="_blank">GitHub Repository</a></li>
                        <li><a href="https://estiem.org/leansixsigma" target="_blank">Lean Six Sigma Course</a></li>
                        <li><a href="https://estiem.org" target="_blank">ESTIEM Network</a></li>
                        <li><a href="mailto:tech@estiem.org">Contact Support</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Join the Community</h4>
                    <p>Connect with 60,000+ Industrial Engineering students worldwide</p>
                    <a href="https://estiem.org/join" class="cta-button" target="_blank">
                        Join ESTIEM
                    </a>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 ESTIEM. Built by students, for students. Free forever for educational use.</p>
                <p class="creator-attribution">Created by <a href="https://www.rdmaic.com" target="_blank">Jukka-Matti Turtiainen</a> ‚Ä¢ Lean Six Sigma Expert</p>
                <div class="footer-links">
                    <a href="https://estiem.org/privacy">Privacy Policy</a>
                    <a href="https://github.com/jukka-matti/ESTIEM-eda/blob/main/LICENSE">License</a>
                    <a href="https://github.com/jukka-matti/ESTIEM-eda/issues">Report Bug</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>